<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Sidebar</title>



    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="search-container">
    <form class="d-flex">
        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
        <button class="btn btn-outline-success" type="submit">Search</button>
    </form>
</div>



<nav>
    <div class="sidebar-top">

        <a href="#" class="logo__wrapper">
            <img src="../menu-01/assets/img.png" alt="Logo" class="logo">
        </a>
    </div>
    <div class="sidebar-links">
        <ul>
            <li>
                <a href="#home" title="Home" class="tooltip">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2"
                         stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                        <path d="M5 12l-2 0l9 -9l9 9l-2 0"></path>
                        <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7"></path>
                        <path d="M10 12h4v4h-4z"></path>
                    </svg>
                    <span class="link hide">Home</span>
                    <span class="tooltip__content">Home</span>
                </a>
            </li>
            <li>
                <a href="#portfolio" title="Portfolio" class="tooltip">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-layout-dashboard"
                         width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                         stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                        <path d="M4 4h6v8h-6z"></path>
                        <path d="M4 16h6v4h-6z"></path>
                        <path d="M14 12h6v8h-6z"></path>
                        <path d="M14 4h6v4h-6z"></path>
                    </svg>
                    <span class="link hide">Portfolio</span>
                    <span class="tooltip__content">Portfolio</span>
                </a>
            </li>
            <li>
                <a href="#watchlist" title="Watchlist" class="tooltip">

                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2"
                         stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                        <path d="M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z"></path>
                    </svg>
                    <span class="link hide">Watchlist</span>
                    <span class="tooltip__content">Watchlist</span>
                </a>
            </li>
            <li>
                <a href="#explore" title="Explore" class="tooltip">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2"
                         stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                        <path d="M8 16l2 -6l6 -2l-2 6l-6 2"></path>
                        <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path>
                    </svg>
                    <span class="link hide">Explore</span>
                    <span class="tooltip__content">Explore</span>
                </a>
            </li>
        </ul>
    </div>


    <div class="sidebar-links">
        <ul>
            <li>
                <a href="#home" title="Home" class="tooltip">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-left" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0z"/>
                        <path fill-rule="evenodd" d="M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708z"/>
                    </svg>
                    <span class="link hide">log out</span>
                    <span class="tooltip__content">Home</span>
                </a>
            </li>

            <li>
                <a href="#home" title="Home" class="tooltip">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-right" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0z"/>
                        <path fill-rule="evenodd" d="M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z"/>
                    </svg>
                    <span class="link hide">log in</span>
                    <span class="tooltip__content">Home</span>
                </a>
            </li>

        </ul>
    </div>

    <div class="sidebar-bottom hide">

        <img src="../menu-01/assets/img.png" alt="Diamond">
        <p>
            Welcome to the hotel
        </p>

    </div>
    <div class="expand-btn">
        <img
                src="assets/right-collapse.svg"
                alt="Left Collapse"
        >
        <span class="hide">
                  log out
                </span>
    </div>
</nav>


<div id="roomList">

    <table>
        <tr>
            <th>code</th>
            <th>description</th>
            <th>image</th>
            <th>price</th>
            <th>status</th>
            <th>type</th>
            <th>delete</th>
            <th>update</th>
        </tr>
    </table>

</div>

<div class="mb-3 mt-5 d-flex justify-content-center" id="paging">
    <ul class="pagination ">
        <li class="page-item disabled">
            <a class="page-link" onclick="pageRenderPitch()" tabindex="-1"
               aria-disabled="true">Previous</a>
        </li>
        <li class="page-item active" aria-current="page">
            <a class="page-link" onclick="pageRenderPitch()">1 <span
                    class="visually-hidden">(current)</span></a>
        </li>
        <!--            <li class="page-item"><a class="page-link" onclick="pageRenderPitch()">2</a></li>-->
        <!--            <li class="page-item"><a class="page-link" href="#">3</a></li>-->
        <li class="page-item">
            <a class="page-link" onclick="pageRenderPitch()">Next</a>
        </li>
    </ul>
</div>




<script src="script.js"></script>

<script src="../dependencies/jquery/jquery.min.js"></script>
<script src="../dependencies/popper.js/popper.min.js"></script>
<script src="../dependencies/bootstrap/js/bootstrap.min.js"></script>
<script src="../dependencies/owl.carousel/js/owl.carousel.min.js"></script>
<script src="../dependencies/wow/js/wow.min.js"></script>
<script src="../dependencies/isotope-layout/js/isotope.pkgd.min.js"></script>
<script src="../dependencies/imagesloaded/js/imagesloaded.pkgd.min.js"></script>
<script src="../dependencies/jquery.countdown/js/jquery.countdown.min.js"></script>
<script src="../dependencies/gmap3/js/gmap3.min.js"></script>
<script src="../dependencies/venobox/js/venobox.min.js"></script>
<script src="../dependencies/slick-carousel/js/slick.js"></script>
<script src="../dependencies/headroom/js/headroom.js"></script>
<script src="../dependencies/jquery-ui/js/jquery-ui.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBsBrMPsyNtpwKXPPpG54XwJXnyobfMAIc"></script>
<script src="../assets/js/app.js"></script>

<script>
    function pageRenderPitch(pageIndex) {
        $.ajax({
            url: `http://localhost:8080/api/rooms?&page=${pageIndex}`,
            type: "GET",
            crossDomain: true,
            contentType: 'application/json',
            dataType: "json",
            success: (response) => {
                renderBuisiness(response.content, "#roomList");
                renderPaging(response.totalPages, response.pageable.pageNumber);
            },
            error: (e) => {
                console.log(e);
            }
        })
    }


    function renderBuisiness(response, idRender) {
        let content = '<table id="display-list" border="1"><tr>' +
            '<th>code</th>' +
            '<th>description</th>' +
            '<th>image</th>' +
            '<th>price</th>' +
            '<th>status</th>' +
            '<th>type</th>' +
            '</tr>';
        if (response.length == null || response.length == "") {
            content = `<div class="text-center"> No List</div>`;
        } else {
            for (let i = 0; i < response.length; i++) {
                content += getRoom(response[i]);
            }
        }
        content += "</table>";
        $(idRender).html(content);

    }



    function renderPaging(totalPages, pageNumber) {
        let temp = "<ul class='pagination'>";
        if (pageNumber == 0) {
            temp += `<li class='page-item disabled'><a class="page-link" tabindex="-1" aria-disabled="true">Previous</a></li>`;
        } else {
            temp += `<li class='page-item'><a class="page-link" onclick="pageRenderPitch(${pageNumber - 1})">Previous</a></li>`;
        }

        for (let i = 0; i < totalPages; i++) {
            if (i == pageNumber) {
                temp += `<li class="page-item active" aria-current="page">
                        <a class="page-link" onclick="pageRenderPitch(${i})">${i + 1} <span class="visually-hidden">(current)</span></a>
                    </li>`;
            } else {
                temp += `<li class="page-item"><a class="page-link" onclick="pageRenderPitch(${i})">${i + 1}</a></li>`;
            }
        }

        if (pageNumber == totalPages - 1) {
            temp += `<li class="page-item disabled"><a class="page-link" aria-disabled="true">Next</a></li></ul>`;
        } else {
            temp += `<li class="page-item"><a class="page-link" onclick="pageRenderPitch(${pageNumber + 1})">Next</a></li></ul>`;
        }

        $("#paging").html(temp);
    }
</script>
</body>
</html>
